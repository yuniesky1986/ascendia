<?xml version="1.0" encoding="utf-8"?>

<section class="oe_container">
    <div class="oe_row oe_spaced">
        <div class="oe_span12">
            <h2 class="oe_slogan">SMTP Server Per User</h2><br/>
            <h3 class="oe_slogan">Configure Odoo to use specific incoming and outgoing email server by user.</h3><br/>
        </div>
        <div class="oe_span6">
            <div class="oe_row_img oe_centered">
                <img class="oe_picture oe_screenshot" src="smtp_server_owner.png">
                <div class="oe_demo_footer oe_centeralign">Owner of SMTP Server</div>
            </div>
        </div>
        <div class="oe_span6">
            <p class="oe_mt32">
                Create a outgoing SMTP server and set the owner.
            </p>
        </div>
    </div>
</section>

<section class="oe_container">
    <div class="oe_row oe_spaced">
        <div class="oe_span6">
            <div class="oe_row_img oe_centered">
                <img class="oe_picture oe_screenshot" src="user_smtp_server.png">
                <div class="oe_demo_footer oe_centeralign">User SMTP Server</div>
            </div>
        </div>
        <div class="oe_span6">
            <p class="oe_mt32">
                Create a regular user, don't forget to set email alias equal to email server.
            </p>
        </div>
        <div class="oe_span12">
            <p class="oe_mt32">
                <strong>New in 1.0 --> 2.0:</strong><br/>
                <u>Automatic outgoing SMTP mail server detection</u>: Through the [From] address of outgoing message,
                Odoo will select correct outgoing SMTP mail server to send email. This way if there is a SMTP mail
                server equal to the current user email, Odoo will use that outgoing email server to send the email.<br/>
                <u>Template compatibility</u>: If one sets From field in the email template Odoo will send that email
                from that outgoing SMTP server, if defined, if not it will use standard mail.catchall.alias system
                parameter and outgoing email servers priority.<br/>
                <strong>NOTE</strong>: Don't forget, now you need to set explicitly the From and Reply-to fields in all
                email templates. And create always the incoming mail server of the respective outgoing one.<br/>
                The Reply-to will always be equal to From email (even if defined in template Reply-to field) if an
                outgoing email server is defined, if not it will use standard mail.catchall.alias system parameter, like
                in standard Odoo.<br/>
                <u>Backward compatibility</u>:
            <ol>
                <li>All fields are kept in database, although not shown in forms, until new version is released.
                    <strong>No data will be lost</strong>, and one can revert to older module version. NOTE: They will
                    be removed in 3.0 version.
                </li>
            </ol>
            </p>
            <p class="oe_mt32">
                <strong>New in 0.006 --> 1.0:</strong><br/>
                The module set following HEADERS according to user SMTP server:
            <ol>
                <li>From: UserName &lt;SMTP_Server_User_Name_Email&gt;</li>
                <li>Reply-To: UserName &lt;SMTP_Server_User_Name_Email&gt;</li>
                <li>Return-Path: UserName &lt;SMTP_Server_User_Name_Email&gt;</li>
            </ol>
            This will fix a problem connecting to servers like for example Zoho. But will override email templates
            From and Reply-to definitions.
            </p>
            <p class="oe_mt32">
                <strong>Configuration:</strong>
            <ol>
                <li>Go to "Settings --> Technical --> General Settings" and set your domain in "Alias Domain" (ex:
                    mydomain.com).
                </li>
                <li>Go to "Settings --> Technical --> Parameters --> System Parameters" and check if you have:
                    <ol>
                        <li>Parameter key "mail.catchall.domain" must be same domain you give above (ex:
                            mydomain.com).
                        </li>
                        <li>Parameter key "mail.catchall.alias" this is the catchall alias email (ex: catchall).</li>
                        <li>Parameter key "mail.bounce.alias" this is the bounce alias email (ex: bounce). The default
                            bounce address is used to set the envelop address if no envelop address is provided in the
                            message. It is formed by properly joining the parameters "mail.catchall.alias" and
                            "mail.catchall.domain". If "mail.catchall.alias" is not set it defaults to
                            "postmaster-odoo". <strong>NOTE:</strong> use with care, some relay servers will not forward
                            emails with no bounce email account configured and Odoo does this dynamically (ex:
                            bounce-16-res_partner34@yourdomain.com).
                        </li>
                        <li>Catchall and bounce parameters can be the equal.</li>
                    </ol>
                </li>
                <li>Go to "Settings --> Technical --> Email --> Incoming Mail Servers", create catchall mail server (ex:
                    catchall@mydomain.com)
                </li>
                <li>If you have bounce parameter, go to "Settings --> Technical --> Email --> Incoming Mail Servers",
                    create bounce mail server (ex: bounce@mydomain.com)
                </li>
                <li>Go to "Settings --> Technical --> Email --> Incoming Mail Servers", create user mail server (ex:
                    newuser@mydomain.com)
                </li>
                <li>Go to "Settings --> Technical --> Email --> Outgoing Mail Servers", create outgoing SMTP server (ex:
                    newuser@mydomain.com). Select the user you previously created as owner.
                </li>
                <li>CONGRATULATION, you can now login as your new user and send emails, they will reach destination with
                    the from and reply to as newuser@mydomain.com. And on reply you will get them in same entity from
                    where you've sent it.
                </li>
                <li>You should create an income and outgoing email server for each user.</li>
                <li>You can <strong>still use Odoo in the standard way</strong>, and only some users having specific
                    SMTP email server. It will only set the emails sent by users with specific email server.
                </li>
            </ol>
            </p>
        </div>
    </div>
</section>

<section class="oe_container oe_dark">
    <div class="oe_row oe_spaced">
        <div class="oe_span12">
            <h3 class="oe_slogan" style="font-size: 20px;">Developed for Odoo by <a href="http://www.tkobr.com">Thinkopen
                Solutions Brasil</a></h3>
            <h3 class="oe_slogan" style="font-size: 18px;"><strong>You Can't Even Imagine...</strong></h3>
            <p>
            <h3 class="oe_slogan" style="font-size: 15px;">support at <a
                    href="emailto:sac@tkobr.com?subject=tko_web_sessions_management">sac@tkobr.com</a></h3>
            </p>
        </div>
    </div>
</section>

